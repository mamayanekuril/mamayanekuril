function addVideo(){document.querySelectorAll(".addVideo").forEach(e=>{e.addEventListener("click",function(){const t=e.closest(".addVideo-wrapper"),n=t.offsetHeight;t.style.height=n+"px",t.innerHTML=`\n        <video controls="controls" autoplay="true">\n          <source src="static/video/${this.dataset.video}.mp4" type="video/mp4">\n        </video>\n      `,setTimeout(()=>{t.style.height=null},1e3)})})}addVideo();const links=document.querySelectorAll(".footer-menu__link");links.forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();const t=this.dataset.modal;document.querySelector(`._modal[data-modal="${t}"]`).classList.add("open")})});const modal=document.querySelectorAll("._modal");function order(){const e=document.querySelectorAll(".order-item");if(!e.length)return;let t=0,n=0,o=0,r="";const a=document.querySelector(".item1"),c=document.querySelector(".item2"),l=document.querySelector(".item3"),s=document.getElementById("shiping"),i=document.getElementById("total"),d=document.getElementById("save"),u=document.getElementById("retail"),E=document.querySelector("#country");function m(){s.textContent=`$${o}`,d.textContent=`Ahorras $${n}`,u.textContent=`Al por menor: $${t}`,i.textContent=`$${(t+o).toFixed(2)}`}e.forEach(o=>{o.addEventListener("click",function(){e.forEach(e=>e.classList.remove("selected")),this.classList.add("selected"),t=Number(this.dataset.price),n=Number(this.dataset.sale),r=this.dataset.retail;let o=new Event("change");E.dispatchEvent(o),m()})}),E&&E.addEventListener("change",function(){let e=this.querySelector(":checked").getAttribute("data-price1"),t=this.querySelector(":checked").getAttribute("data-price2"),n=this.querySelector(":checked").getAttribute("data-price3");o=a.classList.contains("selected")&&a?Number(e):c.classList.contains("selected")&&c?Number(t):l.classList.contains("selected")&&l?Number(n):0,m()})}function orderForm(){const e=document.getElementById("form");e&&e.addEventListener("submit",function(t){e.querySelectorAll(".intro-form__item").forEach(e=>{e.value||(t.preventDefault(),e.style.borderColor="red",e.style.boxShadow="0 0 0 0.15rem rgb(220 53 69 / 100%)",e.addEventListener("focusin",function(){e.style.borderColor=null,e.style.boxShadow=null}))})})}modal.forEach(e=>{e.addEventListener("click",function(){this.classList.remove("open")})}),order(),orderForm();const form=document.querySelector(".intro-form");form&&form.addEventListener("submit",function(e){e.preventDefault();const t=document.querySelector("input[data-name]"),n=document.querySelector("input[data-mail]");if(""===t.value&&(t.style.borderColor="red",t.style.boxShadow="0 0 0 0.15rem rgb(220 53 69 / 100%)"),""===n.value&&(n.style.borderColor="red",n.style.boxShadow="0 0 0 0.15rem rgb(220 53 69 / 100%)"),t.addEventListener("focusin",function(){t.style.borderColor=null,t.style.boxShadow=null}),n.addEventListener("focusin",function(){n.style.borderColor=null,n.style.boxShadow=null}),""==n.value||""==t.value)return!1;window.location.href="order.html"});var COUNTRY_SELECT=document.getElementById("country"),COUNTRY_SELECT_HOME=document.getElementById("country-home"),STATE=document.getElementById("state"),INPUTS_HOME_FORM=document.querySelectorAll("#first .intro-form__item"),HOME_FORM=document.querySelector("#first"),STORE_FORM="formFirst",STORE_COUNTRY="selected-country",STORE_STATE="selected-state",INPUTS_EL=document.querySelectorAll("form  .intro-form__item"),API_TOKEN="mtbp56YSdFxwOZBR5tMf-LAvKyxtRb1JNKu-RvBidKm_bB0F63thfw7TlUBQR560G-k",EMAIL="info@biolabrx.com",API_URL="https://www.universal-tutorial.com/api/",JSON_URL="./static/js/json/price.json",forms=function(){var e=null,t=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(e){var t=new XMLHttpRequest;t.open("GET","".concat(API_URL,"states/").concat(e)),t.setRequestHeader("Authorization","Norman ".concat(localStorage.getItem("auth_token"))),t.setRequestHeader("Accept","application/json"),t.onload=function(){4===t.readyState&&(200===t.status&&(!function(e){var t;for(t=e.options.length-1;t>=0;t-=1)0!==t&&e.remove(t)}(STATE),JSON.parse(t.responseText).forEach(function(e){var t=document.createElement("option");t.innerHTML="".concat(e.state_name),t.value=e.state_name;var n=localStorage.getItem(STORE_STATE);n&&t.value===JSON.parse(n)&&t.setAttribute("selected",!0),STATE&&STATE.appendChild(t)})))},t.send()}},n=function(){var n=new XMLHttpRequest;n.open("GET",JSON_URL),n.onload=function(){4===n.readyState&&4===n.readyState&&200===n.status&&((e=JSON.parse(n.responseText)).sort(function(e,t){return function e(t,n,o){return t[o[0]]===n[o[0]]?o.length>1?e(t,n,o.slice(1)):0:t[o[0]]<n[o[0]]?-1:1}(e,t,["name"])}),e.forEach(function(e){var n=document.createElement("option");n.innerHTML="".concat(e.info.name),n.value=e.id,n.dataset.country=e.info.name;var o=localStorage.getItem(STORE_COUNTRY);n.dataset.price1=e.info.offer1,n.dataset.price2=e.info.offer2,n.dataset.price3=e.info.offer3,o&&n.value===JSON.parse(o)&&(n.setAttribute("selected",!0),t(n.dataset.country)),COUNTRY_SELECT_HOME&&COUNTRY_SELECT_HOME.appendChild(n),COUNTRY_SELECT&&COUNTRY_SELECT.appendChild(n)}))},n.send()},o=function(){COUNTRY_SELECT&&(n(),COUNTRY_SELECT.addEventListener("change",function(){!function(){COUNTRY_SELECT[COUNTRY_SELECT.selectedIndex].value;t(COUNTRY_SELECT[COUNTRY_SELECT.selectedIndex].dataset.country)}(COUNTRY_SELECT[COUNTRY_SELECT.selectedIndex].dataset.country)})),COUNTRY_SELECT_HOME&&(n(),COUNTRY_SELECT_HOME.addEventListener("change",function(){t(COUNTRY_SELECT_HOME[COUNTRY_SELECT_HOME.selectedIndex].dataset.country)})),HOME_FORM&&HOME_FORM.addEventListener("submit",function(e){e.preventDefault();var t={},n=0;Array.from(INPUTS_HOME_FORM).forEach(function(e){e.checkValidity()||(n+=1);var o=e.attributes.name.value,r=e.value;return t[o]=r||null}),0===n&&(localStorage.setItem(STORE_FORM,JSON.stringify(t)),COUNTRY_SELECT_HOME&&COUNTRY_SELECT_HOME[COUNTRY_SELECT_HOME.selectedIndex].value&&localStorage.setItem(STORE_COUNTRY,JSON.stringify(COUNTRY_SELECT_HOME[COUNTRY_SELECT_HOME.selectedIndex].value)),STATE&&STATE[STATE.selectedIndex].value&&localStorage.setItem(STORE_STATE,JSON.stringify(STATE[STATE.selectedIndex].value)),HOME_FORM.submit())});var e=JSON.parse(localStorage.getItem(STORE_FORM));INPUTS_EL&&e&&Array.from(INPUTS_EL).forEach(function(t){Object.keys(e).forEach(function(n){var o=t.attributes.name.value,r=e[n];return o===n?t.value=r:null})}),document.querySelectorAll('select[name="state"] option').length<=1&&(document.querySelector('select[name="state"] option').selected=!0)};return{init:function(){var e;(e=new XMLHttpRequest).open("GET","".concat(API_URL,"getaccesstoken")),e.setRequestHeader("Accept","application/json"),e.setRequestHeader("api-token",API_TOKEN),e.setRequestHeader("user-email",EMAIL),e.onload=function(){if(4===e.readyState&&200===e.status){var t=JSON.parse(e.responseText);localStorage.setItem("auth_token",t.auth_token)}},e.send(),o()}}}();function link(){const e=document.querySelector("a.fight-content__btn");e&&(window.matchMedia("(max-width: 768px)").matches?e.setAttribute("href","qualify.html"):e.setAttribute("href","#"))}forms.init(),window.addEventListener("load",link),window.addEventListener("resize",link);